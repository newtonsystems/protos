#####
# Circle CI
# 
# For running docker images on circle ci, see: https://circleci.com/docs/docker
# For circle.yml explanation, see: https://circleci.com/docs/manually
# Python specific configuration, see: https://circleci.com/docs/language-python
#####


## Customize the test machine
machine:

  python:
    version: 2.7.10

  timezone:
    Europe/London # Set the timezone

## Customize dependencies
dependencies:
  pre:
      - pip install grpcio
      - pip install grpcio-tools


## Customize test commands
test:
  override:
    - python -m grpc_tools.protoc -I .  --python_out=. --grpc_python_out=. *.proto

## Customize deployment commands
deployment:
  production:
    branch: master
    commands:
      - curl -u $CIRCLE_API_TOKEN: -d {} https://circleci.com/api/v1.1/project/github/newtonsystems/grpc_types/tree/$CIRCLE_BRANCH

#   staging:
#     branch: master
#     heroku:
#       appname: foo-bar-123

## Custom notifications
# notify:
#   webhooks:
#     # A list of hashes representing hooks. Only the url field is supported.
#     - url: https://someurl.com/hooks/circle
